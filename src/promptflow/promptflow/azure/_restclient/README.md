# How to automatically generate the REST client code
Rest client code in this folder are not manually written, but generated by autorest.

## Setup
+ install [nodejs](https://nodejs.org/en)
+ install autorest
  + run `npm install -g autorest`

## Download swagger.json
Download swagger.json from [here](https://int.api.azureml-test.ms/flow/swagger/v1.0/swagger.json) to 
[promptflow/azure/_restclient](../promptflow/azure/_restclient)

## update code
+ cd to [promptflow/azure/_restclient](../promptflow/azure/_restclient)
+ run `autorest --v3 --python --track2 --version=3.8.0 --use=@autorest/python@5.12.2 --input-file=swagger.json --output-folder=. --namespace=flow --modelerfour.lenient-model-deduplication`
  + don't change `--use`. latest version of `autorest/python` will generate code following different pattern, which is not compatible with our code.
